{"ast":null,"code":"// import { Injectable } from '@angular/core';\n// import {\n//   HttpRequest,\n//   HttpHandler,\n//   HttpEvent,\n//   HttpInterceptor\n// } from '@angular/common/http';\n// import { Observable } from 'rxjs';\n// import { finalize } from 'rxjs/operators';\n// import { LoaderService } from '../services/loader.service';\n// @Injectable()\n// export class LoadingInterceptor implements HttpInterceptor {\n//   private totalRequests = 0;\n//   constructor(\n//     private loadingService: LoaderService\n//   ) {}\n//   intercept(request: HttpRequest<unknown>, next: HttpHandler): Observable<HttpEvent<unknown>> {\n//     console.log('caught')\n//     this.totalRequests++;\n//     this.loadingService.setLoading(true);\n//     return next.handle(request).pipe(\n//       finalize(() => {\n//         this.totalRequests--;\n//         if (this.totalRequests == 0) {\n//           this.loadingService.setLoading(false);\n//         }\n//       })\n//     );\n//   }\n// }","map":null,"metadata":{},"sourceType":"script"}